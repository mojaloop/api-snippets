openapi: 3.0.2
info:
  version: '0.1'
  title: Thirdparty Snippets
  description: |
    Based on sequence diagrams
    (https://github.com/mojaloop/pisp/tree/master/docs/out).
    This is a work in progress.
  license:
    name: TBD
servers:
  - url: '{protocol}://hostname:<port>/switch/'
    variables:
      protocol:
        enum:
          - http
          - https
        default: https
paths:
  /interface:
    post:
      description: >-
        Essential path to include schema definitions that are not used so that
        these definitions get included into the openapi-cli bundle api
        definition so that they get converted into typescript definitions.
      operationId: test
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $ref: './components/schemas/AuthorizationChannelType.yaml'
                - $ref: './components/schemas/AuthorizationResponseType.yaml'
                - $ref: './components/schemas/AuthorizationsPostRequest.yaml'
                - $ref: './components/schemas/IlpFulfilment.yaml'
                - $ref: './components/schemas/Note.yaml'
                - $ref: './components/schemas/PartyResult.yaml'
                - $ref: './components/schemas/ParticipantsPostRequest.yaml'
                - $ref: './components/schemas/PartiesTypeIDPutResponse.yaml'
                - $ref: './components/schemas/ServiceType.yaml'
                - $ref: './components/schemas/ThirdpartyRequestsTransactionsIDPatchResponse.yaml'
                - $ref: './components/schemas/TransactionRequestsPostRequest.yaml'
                - $ref: './components/schemas/TransactionState.yaml'
      responses:
        200:
          description: Ok
  /accounts/{ID}:
    $ref: paths/accounts_ID.yaml
  /accounts/{ID}/error:
    $ref: paths/accounts_ID_error.yaml
  # Note: this resource is deprecated in the latest API Draft, and will
  # be removed in the next MAJOR version release of API-Snippets
  # Please use /thirdpartyRequests/authorizations instead
  # TODO: remove in next major version release
  /authorizations:
    $ref: paths/authorizations.yaml
  # Note: this resource is deprecated in the latest API Draft, and will
  # be removed in the next MAJOR version release of API-Snippets
  # Please use /thirdpartyRequests/authorizations/{ID} instead
  # TODO: remove in next major version release
  /authorizations/{ID}:
    $ref: paths/authorizations_ID.yaml
  /health:
    $ref: paths/health.yaml
  /metrics:
    $ref: paths/metrics.yaml
  /consentRequests:
    $ref: paths/consentRequests.yaml
  /consentRequests/{ID}:
    $ref: paths/consentRequests_ID.yaml
  /consentRequests/{ID}/error:
    $ref: paths/consentRequests_ID_error.yaml
  /consents:
    $ref: paths/consents.yaml
  /consents/{ID}:
    $ref: paths/consents_ID.yaml
  /consents/{ID}/error:
    $ref: paths/consents_ID_error.yaml
  # Note: this resource is deprecated in the latest API Draft, and will
  # be removed in the next MAJOR version release of API-Snippets
  # TODO: remove in next major version release
  /consents/{ID}/generateChallenge:
    $ref: paths/consents_ID_generateChallenge.yaml
  /services/{ServiceType}:
    $ref: paths/services_ServiceType.yaml
  /services/{ServiceType}/error:
    $ref: paths/services_ServiceType_error.yaml
  /thirdpartyRequests/transactions:
    $ref: paths/thirdpartyRequests_transactions.yaml
  /thirdpartyRequests/transactions-tsa:
    $ref: paths/thirdpartyRequests_transactions_tsa.yaml
  /thirdpartyRequests/transactions/{ID}:
    $ref: paths/thirdpartyRequests_transactions_ID.yaml
  /thirdpartyRequests/transactions/{ID}/error:
    $ref: paths/thirdpartyRequests_transactions_ID_error.yaml
  # Note: this resource is deprecated in the latest API Draft, and will
  # be removed in the next MAJOR version release of API-Snippets
  # TODO: remove in next major version release
  /thirdpartyRequests/transactions/{ID}/authorizations:
      $ref: paths/thirdpartyRequests_transactions_ID_authz.yaml
  /thirdpartyRequests/authorizations:
    $ref: paths/thirdpartyRequests_authorizations.yaml
  /thirdpartyRequests/authorizations/{ID}:
    $ref: paths/thirdpartyRequests_authorizations_ID.yaml
  /thirdpartyRequests/authorizations/{ID}/error:
    $ref: paths/thirdpartyRequests_authorizations_ID_error.yaml
  /thirdpartyRequests/verifications:
    $ref: paths/thirdpartyRequests_verifications.yaml
  /thirdpartyRequests/verifications/{ID}:
    $ref: paths/thirdpartyRequests_verifications_ID.yaml
  /thirdpartyRequests/verifications/{ID}/error:
    $ref: paths/thirdpartyRequests_verifications_ID_error.yaml
